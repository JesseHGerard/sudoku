{"version":3,"sources":["util/determinePosition.js","util/challenge.js","style/tokens.js","components/BoardContainer.js","App.js","serviceWorker.js","index.js","Solver.worker.js"],"names":["determinePosition","index","col","determineCol","row","determineRow","group","determineGroup","range","Array","map","_","nextRowIndex","colMembers","filter","colIndex","rowMembers","rowIndex","groupMembers","groupIndex","Math","floor","challenge","value","state","cell","passedRow","rowMemberIndex","includes","passedCol","colMemberIndex","passedGroup","groupMemberIndex","CELL_SIZE","GROUP_DIVIDER_COLOR","CELL_DIVIDER_COLOR","PICKER_BACKGROUND_COLOR","PICKER_FOREGROUND_COLOR","FRAMES_PER_SECOND","MAX_ANIMATION_RUNTIME","tokens","cellSize","boardSize","groupDividerColor","cellDividerColor","PickerBackgroundColor","PickerForegroundColor","framesPerSecond","maxAnimationRuntime","boardContainerStyle","width","height","padding","display","flexWrap","userSelect","BoardContainer","children","css","App","useRef","SolverWorker","current","jsSolver","wrapWorker","useState","webAssemblyTime","setWebAssemblyTime","javaScriptTime","setJavaScriptTime","solved","setSolved","loopsToSolve","setLoopsToSolve","animationFrames","setAnimationFrames","animating","setAnimating","frame","gameState","setGameState","userPuzzle","setUserPuzzle","handlePlaybackClick","useCallback","a","async","puzzle","animate","loopsPerFrame","ceil","solution","useEffect","isArray","length","intervalId","setInterval","requestAnimationFrame","clearInterval","handleSolveClick","then","solveWithRust","solve","start","performance","now","end","jsSolution","time","loops","Cell","key","onClick","showPicker","setShowPicker","position","boxSizing","justifyContent","alignItems","fontFamily","borderWidth","borderStyle","outline","tabIndex","Picker","availableNumbers","setAvailableNumbers","formattedState","constant","nextAvailableNumbers","i","push","backgroundColor","color","top","left","transform","zIndex","numberIndex","currentValue","currentNumber","isAvailableNumber","borderRadius","borderColor","event","stopPropagation","nextGameState","undefined","borderTopWidth","borderTopColor","borderTop","remainder","borderLeftWidth","borderLeftColor","borderLeft","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","require"],"mappings":"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","file":"static/js/main.fb1407ca.chunk.js","sourcesContent":["/** Finds row, col, and group on game board.\n * @typedef {number} Index position in array (0-81)\n \n * @param {Index} index position of cell to position\n\n * @typedef {object} Position\n * @property {index[]} groupMembers includes Index's of other cells in same Group\n * @property {Index[]} rowMembers includes Index's of other cells in same Row\n * @property {Index[]} colMembers includes Index's of other cells in same Col\n * @property {Index}\n * @property {number} group group number (0-8)\n * @property {number} row row number (0-8)\n * @property {number} col col number (0-8)\n * @returns {Position}\n */\nexport function determinePosition(index) {\n  const col = determineCol(index);\n  const row = determineRow(index);\n  const group = determineGroup(index);\n\n  const range = [...Array(81)].map((_, nextRowIndex) => nextRowIndex);\n\n  return {\n    group,\n    col,\n    row,\n    colMembers: range.filter(\n      (_, colIndex) => colIndex !== index && determineCol(colIndex) === col\n    ),\n    rowMembers: range.filter(\n      (_, rowIndex) => rowIndex !== index && determineRow(rowIndex) === row\n    ),\n    groupMembers: range.filter(\n      (_, groupIndex) =>\n        groupIndex !== index && determineGroup(groupIndex) === group\n    )\n  };\n}\n\nfunction determineCol(index) {\n  return index % 9;\n}\nfunction determineRow(index) {\n  return Math.floor(index / 9);\n}\nfunction determineGroup(index) {\n  return (\n    Math.floor(determineCol(index) / 3) +\n    Math.floor(determineRow(index) / 3) * 3\n  );\n}\n","/** Check if cell value is legal */\nexport function challenge(index, value, state) {\n  const cell = state[index];\n\n  let passedRow = !cell.rowMembers\n    .map(rowMemberIndex => state[rowMemberIndex].value)\n    .includes(value);\n\n  let passedCol =\n    passedRow &&\n    !cell.colMembers\n      .map(colMemberIndex => state[colMemberIndex].value)\n      .includes(value);\n\n  let passedGroup =\n    passedRow &&\n    passedCol &&\n    !cell.groupMembers\n      .map(groupMemberIndex => state[groupMemberIndex].value)\n      .includes(value);\n\n  return passedRow && passedCol && passedGroup;\n}\n","export const CELL_SIZE = 50;\nexport const BOARD_SIZE = CELL_SIZE * 9;\nexport const GROUP_DIVIDER_COLOR = \"black\";\nexport const CELL_DIVIDER_COLOR = \"grey\";\nexport const PICKER_BACKGROUND_COLOR = \"black\";\nexport const PICKER_FOREGROUND_COLOR = \"white\";\n\nexport const FRAMES_PER_SECOND = 30;\nexport const MAX_ANIMATION_RUNTIME = 30; /* seconds */\n\nconst tokens = {\n  cellSize: CELL_SIZE,\n  boardSize: BOARD_SIZE,\n  groupDividerColor: GROUP_DIVIDER_COLOR,\n  cellDividerColor: CELL_DIVIDER_COLOR,\n  PickerBackgroundColor: PICKER_BACKGROUND_COLOR,\n  PickerForegroundColor: PICKER_FOREGROUND_COLOR,\n  framesPerSecond: FRAMES_PER_SECOND,\n  maxAnimationRuntime: MAX_ANIMATION_RUNTIME\n};\nexport default tokens;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport tokens from \"../style/tokens\";\n\nconst boardContainerStyle = {\n  width: tokens.boardSize,\n  height: tokens.boardSize,\n  padding: tokens.cellSize,\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  userSelect: \"none\"\n};\n\n/** Holds Cells */\nexport function BoardContainer({ children }) {\n  return <div css={boardContainerStyle}>{children}</div>;\n}\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n/* eslint-disable no-unused-vars */\nimport {\n  Fragment,\n  useContext,\n  useState,\n  useEffect,\n  useRef,\n  useCallback\n} from \"react\";\nimport { wrap as wrapWorker } from \"comlink\";\n\nimport { solve } from \"./util/solve\";\nimport { challenge } from \"./util/challenge\";\nimport { determinePosition } from \"./util/determinePosition\";\nimport SolverWorker from \"./Solver.worker.js\";\n\nimport { BoardContainer } from \"./components/BoardContainer\";\n\nimport {\n  CELL_SIZE,\n  BOARD_SIZE,\n  GROUP_DIVIDER_COLOR,\n  CELL_DIVIDER_COLOR,\n  PICKER_BACKGROUND_COLOR,\n  PICKER_FOREGROUND_COLOR,\n  FRAMES_PER_SECOND,\n  MAX_ANIMATION_RUNTIME\n} from \"./style/tokens\";\n\nfunction App() {\n  const { current: solverWorker } = useRef(SolverWorker());\n  const { current: jsSolver } = useRef(wrapWorker(SolverWorker()));\n\n  const [webAssemblyTime, setWebAssemblyTime] = useState();\n  const [javaScriptTime, setJavaScriptTime] = useState();\n  const [solved, setSolved] = useState(false);\n  const [loopsToSolve, setLoopsToSolve] = useState();\n  const [animationFrames, setAnimationFrames] = useState();\n  const [animating, setAnimating] = useState(false);\n  const frame = useRef(0);\n\n  const [gameState, setGameState] = useState(\n    [...Array(81)].map(() => undefined)\n  );\n  const [userPuzzle, setUserPuzzle] = useState();\n\n  const handlePlaybackClick = useCallback(async () => {\n    const solution = await jsSolver({\n      puzzle: userPuzzle,\n      animate: {\n        loopsToSolve,\n        loopsPerFrame: Math.ceil(\n          loopsToSolve / (FRAMES_PER_SECOND * MAX_ANIMATION_RUNTIME)\n        )\n      }\n    });\n    setAnimationFrames(solution.animationFrames);\n    setAnimating(true);\n  }, [jsSolver, loopsToSolve, userPuzzle]);\n\n  useEffect(() => {\n    if (animating) {\n      if (Array.isArray(animationFrames) && animationFrames.length) {\n        const intervalId = setInterval(() => {\n          requestAnimationFrame(() => {\n            if (!animating) {\n              return clearInterval(intervalId);\n            }\n            setGameState(animationFrames[frame.current]);\n            if (frame.current < animationFrames.length - 1) {\n              frame.current++;\n            } else {\n              clearInterval(intervalId);\n              setAnimating(false);\n              frame.current = 0;\n            }\n          });\n        }, 1000 / FRAMES_PER_SECOND);\n      } else {\n        setAnimating(false);\n      }\n    }\n  }, [animating, animationFrames]);\n\n  const handleSolveClick = useCallback(async () => {\n    setUserPuzzle(gameState);\n    import(\"rust\").then(({ solve: solveWithRust }) => {\n      const start = performance.now();\n      const solution = solveWithRust(gameState);\n      const end = performance.now();\n      setGameState([...solution]);\n      setWebAssemblyTime(Math.floor((end - start) * 100) / 100);\n    });\n\n    const jsSolution = await jsSolver({\n      puzzle: gameState,\n      ...(loopsToSolve ? { animate: { loopsToSolve } } : {})\n    });\n\n    const { time, loops, animationFrames } = jsSolution;\n\n    setJavaScriptTime(time);\n    setSolved(true);\n    setLoopsToSolve(loops);\n    setAnimationFrames(animationFrames);\n  }, [gameState, jsSolver, loopsToSolve]);\n\n  return (\n    <Fragment>\n      <BoardContainer>\n        {gameState.map((_, index) => (\n          <Cell\n            key={index}\n            index={index}\n            gameState={gameState}\n            setGameState={setGameState}\n          />\n        ))}\n      </BoardContainer>\n      {!solved && <button onClick={handleSolveClick}>Solve</button>}\n      {solved && (\n        <button onClick={handlePlaybackClick}>Playback solution</button>\n      )}\n      {webAssemblyTime && <div>Web Assembly - {webAssemblyTime}ms</div>}\n      {javaScriptTime && <div>JavaScript - {javaScriptTime}ms</div>}\n    </Fragment>\n  );\n}\n\nexport default App;\n\nfunction Cell({ index, gameState, setGameState }) {\n  const [showPicker, setShowPicker] = useState(false);\n\n  return (\n    <div\n      css={{\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        height: CELL_SIZE,\n        width: CELL_SIZE,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontFamily: '\"Helvetica\", san-serif',\n        borderWidth: 0,\n        borderStyle: \"solid\",\n        outline: \"none\",\n        ...borderStyle(index)\n      }}\n      tabIndex={0}\n      onClick={() => setShowPicker(true)}\n    >\n      {gameState[index]}\n      {showPicker && (\n        <Picker\n          gameState={gameState}\n          setGameState={setGameState}\n          index={index}\n          setShowPicker={setShowPicker}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Picker({ gameState, setGameState, setShowPicker, index }) {\n  const [availableNumbers, setAvailableNumbers] = useState([]);\n\n  useEffect(() => {\n    const formattedState = gameState.map((value, index) => {\n      return {\n        value,\n        constant: !!value,\n        index,\n        ...determinePosition(index)\n      };\n    });\n\n    const nextAvailableNumbers = [];\n    for (let i = 1; i <= 9; i++) {\n      if (challenge(index, i, formattedState)) {\n        nextAvailableNumbers.push(i);\n      }\n    }\n    setAvailableNumbers(nextAvailableNumbers);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div\n      css={{\n        boxSizing: \"border-box\",\n        height: 3 * CELL_SIZE,\n        width: 3 * CELL_SIZE,\n        backgroundColor: PICKER_BACKGROUND_COLOR,\n        color: PICKER_FOREGROUND_COLOR,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: 1,\n        display: \"flex\",\n        flexWrap: \"wrap\"\n      }}\n    >\n      {[...Array(9)].map((_, numberIndex) => {\n        const currentValue = gameState[index];\n        const currentNumber = numberIndex + 1;\n        const isAvailableNumber = availableNumbers.includes(numberIndex + 1);\n        return (\n          <div\n            key={numberIndex}\n            css={{\n              boxSizing: \"border-box\",\n              width: CELL_SIZE,\n              height: CELL_SIZE,\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              borderRadius: \"100%\",\n              borderColor: PICKER_FOREGROUND_COLOR,\n              borderStyle: \"solid\",\n              borderWidth: currentValue === currentNumber ? 1 : 0\n            }}\n            onClick={\n              currentValue === currentNumber\n                ? event => {\n                    event.stopPropagation();\n                    const nextGameState = [...gameState];\n                    nextGameState[index] = undefined;\n                    setGameState(nextGameState);\n                    setShowPicker(false);\n                  }\n                : isAvailableNumber\n                ? event => {\n                    event.stopPropagation();\n                    const nextGameState = [...gameState];\n                    nextGameState[index] = currentNumber;\n                    setGameState(nextGameState);\n                    setShowPicker(false);\n                  }\n                : event => {\n                    event.stopPropagation();\n                    setShowPicker(false);\n                  }\n            }\n          >\n            {isAvailableNumber && currentNumber}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction borderStyle(index) {\n  return {\n    ...borderTop(index),\n    ...borderLeft(index)\n  };\n}\n\nfunction borderTop(index) {\n  if (index <= 8) {\n    /* board top */\n    return { borderTopWidth: 0 };\n  } else if ((index >= 27 && index <= 35) || (index >= 54 && index <= 62)) {\n    /* group top */\n    return {\n      borderTopWidth: 2,\n      borderTopColor: GROUP_DIVIDER_COLOR\n    };\n  } else {\n    return {\n      borderTopWidth: 1,\n      borderTopColor: CELL_DIVIDER_COLOR\n    };\n  }\n}\n\nfunction borderLeft(index) {\n  const remainder = index % 9;\n  if (remainder === 0) {\n    /* board left */\n    return { borderLeftWidth: 0 };\n  } else if (remainder === 3 || remainder === 6) {\n    /* group left */\n    return {\n      borderLeftWidth: 2,\n      borderLeftColor: GROUP_DIVIDER_COLOR\n    };\n  } else {\n    return {\n      borderLeftWidth: 1,\n      borderLeftColor: CELL_DIVIDER_COLOR\n    };\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n","module.exports = function() {\n  return require(\"!!/Users/jgerard/projects/sudoku/node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\\\"undefined\\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(t,\\\"__esModule\\\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\\\"object\\\"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\\\"default\\\",{enumerable:!0,value:t}),2&e&&\\\"string\\\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\\\"a\\\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\\\"/sudoku/\\\",n(n.s=0)}([function(t,e,n){\\\"use strict\\\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||\\\"[object Arguments]\\\"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(t,e)||function(){throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\")}()}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u=function(){if(\\\"undefined\\\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\\\"function\\\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\\\"[object Arguments]\\\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\\\"Invalid attempt to spread non-iterable instance\\\")}()}n.r(e);var c=Symbol(\\\"Comlink.proxy\\\"),f=Symbol(\\\"Comlink.endpoint\\\"),l=Symbol(\\\"Comlink.releaseProxy\\\"),s=new WeakSet,p=new Map([[\\\"proxy\\\",{canHandle:function(t){return t&&t[c]},serialize:function(t){var e=new MessageChannel,n=e.port1,r=e.port2;return v(t,n),[r,[r]]},deserialize:function(t){return t.start(),function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=!1,u=new Proxy(r,{get:function(r,o){if(d(a),o===l)return function(){return w(e,{type:5,path:n.map((function(t){return t.toString()}))}).then((function(){y(e),a=!0}))};if(\\\"then\\\"===o){if(0===n.length)return{then:function(){return u}};var c=w(e,{type:0,path:n.map((function(t){return t.toString()}))}).then(g);return c.then.bind(c)}return t(e,[].concat(i(n),[o]))},set:function(t,r,u){d(a);var c=o(h(u),2),f=c[0],l=c[1];return w(e,{type:1,path:[].concat(i(n),[r]).map((function(t){return t.toString()})),value:f},l).then(g)},apply:function(r,u,i){d(a);var c=n[n.length-1];if(c===f)return w(e,{type:4}).then(g);if(\\\"bind\\\"===c)return t(e,n.slice(0,-1));var l=o(m(i),2),s=l[0],p=l[1];return w(e,{type:2,path:n.map((function(t){return t.toString()})),argumentList:s},p).then(g)},construct:function(t,r){d(a);var u=o(m(r),2),i=u[0],c=u[1];return w(e,{type:3,path:n.map((function(t){return t.toString()})),argumentList:i},c).then(g)}});return u}(t,[],e);var e}}],[\\\"throw\\\",{canHandle:function(t){return s.has(t)},serialize:function(t){var e=t instanceof Error,n=t;return e&&(n={isError:e,message:t.message,stack:t.stack}),[n,[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error,t);throw t}}]]);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener(\\\"message\\\",(function n(a){if(a&&a.data){var f,l=Object.assign({path:[]},a.data),p=l.id,d=l.type,m=l.path,w=(a.data.argumentList||[]).map(g);try{var O=m.slice(0,-1).reduce((function(t,e){return t[e]}),t),j=m.reduce((function(t,e){return t[e]}),t);switch(d){case 0:f=j;break;case 1:O[m.slice(-1)[0]]=g(a.data.value),f=!0;break;case 2:f=j.apply(O,w);break;case 3:f=function(t){return Object.assign(t,r({},c,!0))}(u(j,i(w)));break;case 4:var S=new MessageChannel,M=S.port1,P=S.port2;v(t,P),f=function(t,e){return b.set(t,e),t}(M,[M]);break;case 5:f=void 0}}catch(E){f=E,s.add(E)}Promise.resolve(f).catch((function(t){return s.add(t),t})).then((function(t){var r=o(h(t),2),a=r[0],u=r[1];e.postMessage(Object.assign(Object.assign({},a),{id:p}),u),5===d&&(e.removeEventListener(\\\"message\\\",n),y(e))}))}})),e.start&&e.start()}function y(t){(function(t){return\\\"MessagePort\\\"===t.constructor.name})(t)&&t.close()}function d(t){if(t)throw new Error(\\\"Proxy has been released and is not useable\\\")}function m(t){var e,n=t.map(h);return[n.map((function(t){return t[0]})),(e=n.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var b=new WeakMap;function h(t){var e=!0,n=!1,r=void 0;try{for(var a,u=p[Symbol.iterator]();!(e=(a=u.next()).done);e=!0){var i=o(a.value,2),c=i[0],f=i[1];if(f.canHandle(t)){var l=o(f.serialize(t),2);return[{type:3,name:c,value:l[0]},l[1]]}}}catch(s){n=!0,r=s}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}return[{type:0,value:t},b.get(t)||[]]}function g(t){switch(t.type){case 3:return p.get(t.name).deserialize(t.value);case 0:return t.value}}function w(t,e,n){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join(\\\"-\\\");t.addEventListener(\\\"message\\\",(function e(n){n.data&&n.data.id&&n.data.id===o&&(t.removeEventListener(\\\"message\\\",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)}))}function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t){return t%9}function M(t){return Math.floor(t/9)}function P(t){return Math.floor(S(t)/3)+3*Math.floor(M(t)/3)}function E(t,e,n){var r=n[t],o=!r.rowMembers.map((function(t){return n[t].value})).includes(e),a=o&&!r.colMembers.map((function(t){return n[t].value})).includes(e),u=o&&a&&!r.groupMembers.map((function(t){return n[t].value})).includes(e);return o&&a&&u}function k(t,e){var n=t.map((function(t,e){return j({value:t,constant:!!t,index:e},function(t){var e=S(t),n=M(t),r=P(t),o=i(Array(81)).map((function(t,e){return e}));return{group:r,col:e,row:n,colMembers:o.filter((function(n,r){return r!==t&&S(r)===e})),rowMembers:o.filter((function(e,r){return r!==t&&M(r)===n})),groupMembers:o.filter((function(e,n){return n!==t&&P(n)===r}))}}(e))})),r=0,o=!0,a=0,u=[];try{for(;r<n.length;)if(a++,e&&a%e.loopsPerFrame===0&&u.push(n.map((function(t){return t.value}))),n[r].constant)o?r++:A(--r);else if(o){var c=x(r,n);c.length<1?(o=!1,n[r].value=void 0,n[r].options=void 0,A(--r)):(n[r].value=c.shift(),n[r].options=c,r++)}else 0===n[r].options.length?(n[r].value=void 0,n[r].options=void 0,A(--r)):(n[r].value=n[r].options.shift(),o=!0,r++);u.length&&u.push(n.map((function(t){return t.value})))}catch(f){console.warn(\\\"Puzzle is not solvable\\\"),console.warn(f)}return j({answer:n.map((function(t){return t.value})),loops:a},u.length>0?{animationFrames:u}:{})}function x(t,e){for(var n=[],r=1;r<=9;r++)E(t,r,e)&&n.push(r);return n}function A(t){if(t<0)throw Error(\\\"Reached beginning\\\")}v((function({puzzle:t,animate:e}){const n=performance.now(),r=k(t,e),o=performance.now();return{...r,time:Math.floor(100*(o-n))/100}}))}]);\\n//# sourceMappingURL=6c28e13929256ca66819.worker.js.map\", null);\n};"],"sourceRoot":""}