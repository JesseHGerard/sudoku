(this["webpackJsonpwasm-test"]=this["webpackJsonpwasm-test"]||[]).push([[0],{12:function(t,e,n){t.exports=n(19)},19:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(9),u=n.n(a),i=n(4),c=n(5),s=n.n(c),l=n(3),f=n(1),p=n(2),b=n(11);function d(t){var e=m(t),n=v(t),r=g(t),o=Object(l.a)(Array(81)).map((function(t,e){return e}));return{group:r,col:e,row:n,colMembers:o.filter((function(n,r){return r!==t&&m(r)===e})),rowMembers:o.filter((function(e,r){return r!==t&&v(r)===n})),groupMembers:o.filter((function(e,n){return n!==t&&g(n)===r}))}}function m(t){return t%9}function v(t){return Math.floor(t/9)}function g(t){return Math.floor(m(t)/3)+3*Math.floor(v(t)/3)}function h(t,e,n){var r=n[t],o=!r.rowMembers.map((function(t){return n[t].value})).includes(e),a=o&&!r.colMembers.map((function(t){return n[t].value})).includes(e),u=o&&a&&!r.groupMembers.map((function(t){return n[t].value})).includes(e);return o&&a&&u}var y=n(7),j=n.n(y),O=50,w="black",S="grey",M="black",x="white",P=30,k=30,E={cellSize:O,boardSize:9*O,groupDividerColor:w,cellDividerColor:S,PickerBackgroundColor:M,PickerForegroundColor:x,framesPerSecond:P,maxAnimationRuntime:k},A={width:E.boardSize,height:E.boardSize,padding:E.cellSize,display:"flex",flexWrap:"wrap",userSelect:"none"};function z(t){var e=t.children;return Object(p.a)("div",{css:A},e)}var C=function(){Object(r.useRef)(j()()).current;var t=Object(r.useRef)(Object(b.a)(j()())).current,e=Object(r.useState)(),o=Object(f.a)(e,2),a=o[0],u=o[1],c=Object(r.useState)(),d=Object(f.a)(c,2),m=d[0],v=d[1],g=Object(r.useState)(!1),h=Object(f.a)(g,2),y=h[0],O=h[1],w=Object(r.useState)(),S=Object(f.a)(w,2),M=S[0],x=S[1],E=Object(r.useState)(),A=Object(f.a)(E,2),C=A[0],L=A[1],R=Object(r.useState)(!1),T=Object(f.a)(R,2),_=T[0],F=T[1],I=Object(r.useRef)(0),D=Object(r.useState)(Object(l.a)(Array(81)).map((function(){}))),G=Object(f.a)(D,2),H=G[0],B=G[1],J=Object(r.useState)(),N=Object(f.a)(J,2),q=N[0],U=N[1],X=Object(r.useCallback)((function(){var e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(t({puzzle:q,animate:{loopsToSolve:M,loopsPerFrame:Math.ceil(M/(P*k))}}));case 2:e=n.sent,L(e.animationFrames),F(!0);case 5:case"end":return n.stop()}}))}),[t,M,q]);Object(r.useEffect)((function(){if(_)if(Array.isArray(C)&&C.length)var t=setInterval((function(){requestAnimationFrame((function(){if(!_)return clearInterval(t);B(C[I.current]),I.current<C.length-1?I.current++:(clearInterval(t),F(!1),I.current=0)}))}),1e3/P);else F(!1)}),[_,C]);var $=Object(r.useCallback)((function(){var e,r,o,a;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return U(H),n.e(3).then(n.bind(null,20)).then((function(t){var e=t.solve,n=performance.now(),r=e(H),o=performance.now();B(Object(l.a)(r)),u(Math.floor(100*(o-n))/100)})),c.next=4,s.a.awrap(t(Object(i.a)({puzzle:H},M?{animate:{loopsToSolve:M}}:{})));case 4:e=c.sent,r=e.time,o=e.loops,a=e.animationFrames,v(r),O(!0),x(o),L(a);case 10:case"end":return c.stop()}}))}),[H,t,M]);return Object(p.a)(r.Fragment,null,Object(p.a)(z,null,H.map((function(t,e){return Object(p.a)(W,{key:e,index:e,gameState:H,setGameState:B})}))),!y&&Object(p.a)("button",{onClick:$},"Solve"),y&&Object(p.a)("button",{onClick:X},"Playback solution"),a&&Object(p.a)("div",null,"Web Assembly - ",a,"ms"),m&&Object(p.a)("div",null,"JavaScript - ",m,"ms"))};function W(t){var e=t.index,n=t.gameState,o=t.setGameState,a=Object(r.useState)(!1),u=Object(f.a)(a,2),c=u[0],s=u[1];return Object(p.a)("div",{css:Object(i.a)({position:"relative",boxSizing:"border-box",height:O,width:O,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'"Helvetica", san-serif',borderWidth:0,borderStyle:"solid",outline:"none"},R(e)),tabIndex:0,onClick:function(){return s(!0)}},n[e],c&&Object(p.a)(L,{gameState:n,setGameState:o,index:e,setShowPicker:s}))}function L(t){var e=t.gameState,n=t.setGameState,o=t.setShowPicker,a=t.index,u=Object(r.useState)([]),c=Object(f.a)(u,2),s=c[0],b=c[1];return Object(r.useEffect)((function(){for(var t=e.map((function(t,e){return Object(i.a)({value:t,constant:!!t,index:e},d(e))})),n=[],r=1;r<=9;r++)h(a,r,t)&&n.push(r);b(n)}),[]),Object(p.a)("div",{css:{boxSizing:"border-box",height:3*O,width:3*O,backgroundColor:M,color:x,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1,display:"flex",flexWrap:"wrap"}},Object(l.a)(Array(9)).map((function(t,r){var u=e[a],i=r+1,c=s.includes(r+1);return Object(p.a)("div",{key:r,css:{boxSizing:"border-box",width:O,height:O,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderColor:x,borderStyle:"solid",borderWidth:u===i?1:0},onClick:u===i?function(t){t.stopPropagation();var r=Object(l.a)(e);r[a]=void 0,n(r),o(!1)}:c?function(t){t.stopPropagation();var r=Object(l.a)(e);r[a]=i,n(r),o(!1)}:function(t){t.stopPropagation(),o(!1)}},c&&i)})))}function R(t){return Object(i.a)({},function(t){return t<=8?{borderTopWidth:0}:t>=27&&t<=35||t>=54&&t<=62?{borderTopWidth:2,borderTopColor:w}:{borderTopWidth:1,borderTopColor:S}}(t),{},function(t){var e=t%9;return 0===e?{borderLeftWidth:0}:3===e||6===e?{borderLeftWidth:2,borderLeftColor:w}:{borderLeftWidth:1,borderLeftColor:S}}(t))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},7:function(t,e,n){t.exports=function(){return n(18)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/sudoku/",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(e);var c=Symbol("Comlink.proxy"),f=Symbol("Comlink.endpoint"),l=Symbol("Comlink.releaseProxy"),s=new WeakSet,p=new Map([["proxy",{canHandle:function(t){return t&&t[c]},serialize:function(t){var e=new MessageChannel,n=e.port1,r=e.port2;return v(t,n),[r,[r]]},deserialize:function(t){return t.start(),function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=!1,u=new Proxy(r,{get:function(r,o){if(d(a),o===l)return function(){return w(e,{type:5,path:n.map((function(t){return t.toString()}))}).then((function(){y(e),a=!0}))};if("then"===o){if(0===n.length)return{then:function(){return u}};var c=w(e,{type:0,path:n.map((function(t){return t.toString()}))}).then(g);return c.then.bind(c)}return t(e,[].concat(i(n),[o]))},set:function(t,r,u){d(a);var c=o(h(u),2),f=c[0],l=c[1];return w(e,{type:1,path:[].concat(i(n),[r]).map((function(t){return t.toString()})),value:f},l).then(g)},apply:function(r,u,i){d(a);var c=n[n.length-1];if(c===f)return w(e,{type:4}).then(g);if("bind"===c)return t(e,n.slice(0,-1));var l=o(m(i),2),s=l[0],p=l[1];return w(e,{type:2,path:n.map((function(t){return t.toString()})),argumentList:s},p).then(g)},construct:function(t,r){d(a);var u=o(m(r),2),i=u[0],c=u[1];return w(e,{type:3,path:n.map((function(t){return t.toString()})),argumentList:i},c).then(g)}});return u}(t,[],e);var e}}],["throw",{canHandle:function(t){return s.has(t)},serialize:function(t){var e=t instanceof Error,n=t;return e&&(n={isError:e,message:t.message,stack:t.stack}),[n,[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error,t);throw t}}]]);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener("message",(function n(a){if(a&&a.data){var f,l=Object.assign({path:[]},a.data),p=l.id,d=l.type,m=l.path,w=(a.data.argumentList||[]).map(g);try{var O=m.slice(0,-1).reduce((function(t,e){return t[e]}),t),j=m.reduce((function(t,e){return t[e]}),t);switch(d){case 0:f=j;break;case 1:O[m.slice(-1)[0]]=g(a.data.value),f=!0;break;case 2:f=j.apply(O,w);break;case 3:f=function(t){return Object.assign(t,r({},c,!0))}(u(j,i(w)));break;case 4:var S=new MessageChannel,M=S.port1,P=S.port2;v(t,P),f=function(t,e){return b.set(t,e),t}(M,[M]);break;case 5:f=void 0}}catch(E){f=E,s.add(E)}Promise.resolve(f).catch((function(t){return s.add(t),t})).then((function(t){var r=o(h(t),2),a=r[0],u=r[1];e.postMessage(Object.assign(Object.assign({},a),{id:p}),u),5===d&&(e.removeEventListener("message",n),y(e))}))}})),e.start&&e.start()}function y(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function d(t){if(t)throw new Error("Proxy has been released and is not useable")}function m(t){var e,n=t.map(h);return[n.map((function(t){return t[0]})),(e=n.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var b=new WeakMap;function h(t){var e=!0,n=!1,r=void 0;try{for(var a,u=p[Symbol.iterator]();!(e=(a=u.next()).done);e=!0){var i=o(a.value,2),c=i[0],f=i[1];if(f.canHandle(t)){var l=o(f.serialize(t),2);return[{type:3,name:c,value:l[0]},l[1]]}}}catch(s){n=!0,r=s}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}return[{type:0,value:t},b.get(t)||[]]}function g(t){switch(t.type){case 3:return p.get(t.name).deserialize(t.value);case 0:return t.value}}function w(t,e,n){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===o&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)}))}function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t){return t%9}function M(t){return Math.floor(t/9)}function P(t){return Math.floor(S(t)/3)+3*Math.floor(M(t)/3)}function E(t,e,n){var r=n[t],o=!r.rowMembers.map((function(t){return n[t].value})).includes(e),a=o&&!r.colMembers.map((function(t){return n[t].value})).includes(e),u=o&&a&&!r.groupMembers.map((function(t){return n[t].value})).includes(e);return o&&a&&u}function k(t,e){var n=t.map((function(t,e){return j({value:t,constant:!!t,index:e},function(t){var e=S(t),n=M(t),r=P(t),o=i(Array(81)).map((function(t,e){return e}));return{group:r,col:e,row:n,colMembers:o.filter((function(n,r){return r!==t&&S(r)===e})),rowMembers:o.filter((function(e,r){return r!==t&&M(r)===n})),groupMembers:o.filter((function(e,n){return n!==t&&P(n)===r}))}}(e))})),r=0,o=!0,a=0,u=[];try{for(;r<n.length;)if(a++,e&&a%e.loopsPerFrame===0&&u.push(n.map((function(t){return t.value}))),n[r].constant)o?r++:A(--r);else if(o){var c=x(r,n);c.length<1?(o=!1,n[r].value=void 0,n[r].options=void 0,A(--r)):(n[r].value=c.shift(),n[r].options=c,r++)}else 0===n[r].options.length?(n[r].value=void 0,n[r].options=void 0,A(--r)):(n[r].value=n[r].options.shift(),o=!0,r++);u.length&&u.push(n.map((function(t){return t.value})))}catch(f){console.warn("Puzzle is not solvable"),console.warn(f)}return j({answer:n.map((function(t){return t.value})),loops:a},u.length>0?{animationFrames:u}:{})}function x(t,e){for(var n=[],r=1;r<=9;r++)E(t,r,e)&&n.push(r);return n}function A(t){if(t<0)throw Error("Reached beginning")}v((function({puzzle:t,animate:e}){const n=performance.now(),r=k(t,e),o=performance.now();return{...r,time:Math.floor(100*(o-n))/100}}))}]);\n//# sourceMappingURL=6c28e13929256ca66819.worker.js.map',null)}}},[[12,1,2]]]);
//# sourceMappingURL=main.fb1407ca.chunk.js.map