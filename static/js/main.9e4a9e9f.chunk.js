(this["webpackJsonpsudoku-solver"]=this["webpackJsonpsudoku-solver"]||[]).push([[0],{13:function(t,e,n){t.exports=function(){return n(22)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/sudoku/",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t,e,n){return(f=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function l(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e);var s=Symbol("Comlink.proxy"),p=Symbol("Comlink.endpoint"),y=Symbol("Comlink.releaseProxy"),v=Symbol("Comlink.thrown"),m=function(t){return"object"===typeof t&&null!==t||"function"===typeof t},d=new Map([["proxy",{canHandle:function(t){return m(t)&&t[s]},serialize:function(t){var e=new MessageChannel,n=e.port1,r=e.port2;return b(t,n),[r,[r]]},deserialize:function(t){return t.start(),function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=!1,u=new Proxy(r,{get:function(r,a){if(g(o),a===y)return function(){return E(e,{type:5,path:n.map((function(t){return t.toString()}))}).then((function(){h(e),o=!0}))};if("then"===a){if(0===n.length)return{then:function(){return u}};var i=E(e,{type:0,path:n.map((function(t){return t.toString()}))}).then(P);return i.then.bind(i)}return t(e,[].concat(l(n),[a]))},set:function(t,r,u){g(o);var i=a(M(u),2),c=i[0],f=i[1];return E(e,{type:1,path:[].concat(l(n),[r]).map((function(t){return t.toString()})),value:c},f).then(P)},apply:function(r,u,i){g(o);var c=n[n.length-1];if(c===p)return E(e,{type:4}).then(P);if("bind"===c)return t(e,n.slice(0,-1));var f=a(w(i),2),l=f[0],s=f[1];return E(e,{type:2,path:n.map((function(t){return t.toString()})),argumentList:l},s).then(P)},construct:function(t,r){g(o);var u=a(w(r),2),i=u[0],c=u[1];return E(e,{type:3,path:n.map((function(t){return t.toString()})),argumentList:i},c).then(P)}});return u}(t,[],e);var e}}],["throw",{canHandle:function(t){return m(t)&&v in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener("message",(function n(r){if(r&&r.data){var o,i=Object.assign({path:[]},r.data),c=i.id,s=i.type,p=i.path,y=(r.data.argumentList||[]).map(P);try{var m=p.slice(0,-1).reduce((function(t,e){return t[e]}),t),d=p.reduce((function(t,e){return t[e]}),t);switch(s){case 0:o=d;break;case 1:m[p.slice(-1)[0]]=P(r.data.value),o=!0;break;case 2:o=d.apply(m,y);break;case 3:var g;o=S(f(d,l(y)));break;case 4:var w=new MessageChannel,O=w.port1,E=w.port2;b(t,E),o=j(O,[O]);break;case 5:o=void 0}}catch(g){o=u({value:g},v,0)}Promise.resolve(o).catch((function(t){return u({value:t},v,0)})).then((function(t){var r=a(M(t),2),o=r[0],u=r[1];e.postMessage(Object.assign(Object.assign({},o),{id:c}),u),5===s&&(e.removeEventListener("message",n),h(e))}))}})),e.start&&e.start()}function h(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function g(t){if(t)throw new Error("Proxy has been released and is not useable")}function w(t){var e,n=t.map(M);return[n.map((function(t){return t[0]})),(e=n.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var O=new WeakMap;function j(t,e){return O.set(t,e),t}function S(t){return Object.assign(t,u({},s,!0))}function M(t){var e,n=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=o(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,u=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){i=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(i)throw a}}}}(d);try{for(n.s();!(e=n.n()).done;){var r=a(e.value,2),u=r[0],i=r[1];if(i.canHandle(t)){var c=a(i.serialize(t),2);return[{type:3,name:u,value:c[0]},c[1]]}}}catch(f){n.e(f)}finally{n.f()}return[{type:0,value:t},O.get(t)||[]]}function P(t){switch(t.type){case 3:return d.get(t.name).deserialize(t.value);case 0:return t.value}}function E(t,e,n){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===o&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)}))}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t){return t%9}function _(t){return Math.floor(t/9)}function z(t){return Math.floor(x(t)/3)+3*Math.floor(_(t)/3)}function I(t,e,n){var r=n[t],o=!r.rowMembers.map((function(t){return n[t].value})).includes(e),a=o&&!r.colMembers.map((function(t){return n[t].value})).includes(e),u=o&&a&&!r.groupMembers.map((function(t){return n[t].value})).includes(e);return o&&a&&u}function C(t,e){var n=t.map((function(t,e){return k({value:t,constant:!!t,index:e},function(t){var e=x(t),n=_(t),r=z(t),o=l(Array(81)).map((function(t,e){return e}));return{group:r,col:e,row:n,colMembers:o.filter((function(n,r){return r!==t&&x(r)===e})),rowMembers:o.filter((function(e,r){return r!==t&&_(r)===n})),groupMembers:o.filter((function(e,n){return n!==t&&z(n)===r}))}}(e))})),r=0,o=!0,a=0,u=[];try{for(;r<n.length;)if(a++,e&&a%e.loopsPerFrame===0&&u.push(n.map((function(t){return t.value}))),n[r].constant)o?r++:R(--r);else if(o){var i=L(r,n);i.length<1?(o=!1,n[r].value=void 0,n[r].options=void 0,R(--r)):(n[r].value=i.shift(),n[r].options=i,r++)}else 0===n[r].options.length?(n[r].value=void 0,n[r].options=void 0,R(--r)):(n[r].value=n[r].options.shift(),o=!0,r++);u.length&&u.push(n.map((function(t){return t.value})))}catch(c){console.warn("Puzzle is not solvable"),console.warn(c)}return k({answer:n.map((function(t){return t.value})),loops:a},u.length>0?{animationFrames:u}:{})}function L(t,e){for(var n=[],r=1;r<=9;r++)I(t,r,e)&&n.push(r);return n}function R(t){if(t<0)throw Error("Reached beginning")}b((function({puzzle:t,animate:e}){const n=performance.now(),r=C(t,e),o=performance.now();return{...r,time:Math.floor(100*(o-n))/100}}))}]);\n//# sourceMappingURL=20dfb63641127f3895d7.worker.js.map',null)}},16:function(t,e,n){t.exports=n(24)},24:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(11),i=n.n(a),u=n(4),c=n(8),l=n.n(c),s=n(9),f=n(3),b=n(2),p=n(1),d=n(14);function m(t,e,n){var r=n[t],o=!r.rowMembers.map((function(t){return n[t].value})).includes(e),a=o&&!r.colMembers.map((function(t){return n[t].value})).includes(e),i=o&&a&&!r.groupMembers.map((function(t){return n[t].value})).includes(e);return o&&a&&i}function v(t){return t%9}function h(t){return Math.floor(t/9)}function g(t){return Math.floor(v(t)/3)+3*Math.floor(h(t)/3)}var y=n(13),j=n.n(y),O={cellSize:50,boardSize:450,groupDividerColor:"black",cellDividerColor:"grey",PickerBackgroundColor:"black",PickerForegroundColor:"white",framesPerSecond:30,maxAnimationRuntime:30},w={width:O.boardSize,height:O.boardSize,padding:O.cellSize,display:"flex",flexWrap:"wrap",userSelect:"none",flexShrink:0};function S(t){var e=t.children;return Object(p.b)("div",{css:w},e)}var k=n(15);function x(t){var e=t.children,n=t.padStart,r=Object(k.a)(t,["children","padStart"]);return Object(p.b)("button",Object.assign({},r,{css:Object(u.a)(Object(u.a)({boxSizing:"border-box",position:"relative",appearance:"none",backgroundColor:"transparent",border:"1px solid ".concat("black"),fontSize:16,padding:"8px 16px 8px 16px"},n&&{marginLeft:16}),{},{marginTop:16,marginBottom:16,borderRadius:6,minWidth:100,transition:"opacity .3s","&:focus":{outline:"none",boxShadow:"0 0 0 2px magenta"},"&:hover":{color:"rgba(0, 0, 0, .6)",borderColor:"rgba(0, 0, 0, .6)"},"&:disabled":{color:"rgba(0, 0, 0, .4)",borderColor:"rgba(0, 0, 0, .4)"}})}),e)}n(23);var M=function(){var t=Object(r.useRef)(Object(d.a)(j()())).current,e=Object(r.useState)(),o=Object(b.a)(e,2),a=o[0],i=o[1],c=Object(r.useState)(),m=Object(b.a)(c,2),v=m[0],h=m[1],g=Object(r.useState)(!1),y=Object(b.a)(g,2),O=y[0],w=y[1],k=Object(r.useState)(),M=Object(b.a)(k,2),C=M[0],E=M[1],z=Object(r.useState)(),A=Object(b.a)(z,2),I=A[0],R=A[1],W=Object(r.useState)(!1),_=Object(b.a)(W,2),L=_[0],T=_[1],F=Object(r.useRef)(0),D=Object(r.useState)(Object(f.a)(Array(81)).map((function(){}))),H=Object(b.a)(D,2),B=H[0],G=H[1],U=Object(r.useState)(),J=Object(b.a)(U,2),N=J[0],$=J[1],q=Object(r.useCallback)(Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({puzzle:N,animate:{loopsToSolve:C,loopsPerFrame:Math.ceil(C/900)}});case 2:n=e.sent,R(n.animationFrames),T(!0);case 5:case"end":return e.stop()}}),e)}))),[t,C,N]);Object(r.useEffect)((function(){if(L)if(Array.isArray(I)&&I.length)var t=setInterval((function(){if(!L)return clearInterval(t);requestAnimationFrame((function(){G(I[F.current]),F.current<I.length-1?F.current++:(clearInterval(t),T(!1),F.current=0)}))}),1e3/30);else T(!1)}),[L,I]);var X=Object(r.useCallback)(Object(s.a)(l.a.mark((function e(){var r,o,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(B),n.e(3).then(n.bind(null,25)).then((function(t){var e=t.solve,n=performance.now(),r=e(B),o=performance.now();G(Object(f.a)(r)),i(Math.floor(100*(o-n))/100)}),[B]),e.next=4,t(Object(u.a)({puzzle:B},C?{animate:{loopsToSolve:C}}:{}));case 4:r=e.sent,o=r.time,a=r.loops,c=r.animationFrames,h(o),w(!0),E(a),R(c);case 10:case"end":return e.stop()}}),e)}))),[B,t,C]);return Object(p.b)("div",{css:{width:"100%",display:"flex",flexWrap:"wrap"}},Object(p.b)(p.a,{styles:{html:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},a:{position:"relative",color:"black",textDecoration:"none",textDecorationColor:"black",overflow:"visible","&:-webkit-any-link":{color:"black"},"&:focus":{outline:"2px solid magenta",boxShadow:"none"},"&:hover":{color:"magenta"},"&::after":{content:'""',position:"absolute",color:"black",top:0,bottom:-2,left:-1,right:-1,borderBottom:"1px solid magenta",pointerEvents:"none"}}}}),Object(p.b)("div",{css:{minWidth:400,padding:50,display:"flex",flexDirection:"column",justifyContent:"space-between",lineHeight:2}},Object(p.b)("div",null,Object(p.b)("div",{css:{fontSize:48,fontWeight:600,lineHeight:1}},Object(p.b)("div",null,"Sudoku"),Object(p.b)("div",null,"Solver")),!O&&Object(p.b)(r.Fragment,null,Object(p.b)(x,{autoFocus:!0,onClick:X},"Solve"),Object(p.b)("div",null,"Instructions:"),Object(p.b)("div",null,"Click a cell in the game board to select a number."),Object(p.b)("div",null,"If you need a puzzle to solve, try"," ",Object(p.b)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.nytimes.com/puzzles/sudoku/hard"},"NYT")),Object(p.b)("div",null,'Then click "solve"')),O&&Object(p.b)("div",null,Object(p.b)(x,{onClick:q,disabled:L},L?Object(p.b)("span",{css:{width:"100%",textAlign:"center",overflow:"hidden","&::before":{content:'""',position:"absolute",backgroundColor:"cyan",opacity:.2,top:0,bottom:0,left:0,right:100-F.current/I.length*100}}},"".concat(5*Math.round(F.current/I.length*100/5),"%")):"Playback Solution"),!L&&Object(p.b)(x,{padStart:!0,onClick:function(){T(!1),F.current=0,i(),h(),w(!1),E(),R(),G(Object(f.a)(Array(81)).map((function(){}))),$(Object(f.a)(Array(81)).map((function(){})))}},"Reset")),a&&Object(p.b)("div",null,"Web Assembly - ",a,"ms"),v&&Object(p.b)("div",null,"JavaScript - ",v,"ms")),Object(p.b)("div",null,"A web assembly demonstration by"," ",Object(p.b)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://jessegerard.com/"},"Jesse Gerard"))),Object(p.b)(S,null,B.map((function(t,e){return Object(p.b)(P,{solved:O,key:e,index:e,gameState:B,setGameState:G})}))))};function P(t){var e=t.index,n=t.gameState,o=t.setGameState,a=t.solved,i=Object(r.useState)(!1),c=Object(b.a)(i,2),l=c[0],s=c[1];return Object(p.b)("div",{css:Object(u.a)(Object(u.a)({position:"relative",boxSizing:"border-box",height:50,width:50,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'"Helvetica", san-serif',borderWidth:0,borderStyle:"solid",outline:"none"},a&&{pointerEvents:"none"}),E(e)),tabIndex:0,onClick:function(){return s(!0)}},n[e],l&&!a&&Object(p.b)(C,{gameState:n,setGameState:o,index:e,setShowPicker:s}))}function C(t){var e=t.gameState,n=t.setGameState,o=t.setShowPicker,a=t.index,i=Object(r.useState)([]),c=Object(b.a)(i,2),l=c[0],s=c[1];return Object(r.useEffect)((function(){for(var t=e.map((function(t,e){return Object(u.a)({value:t,constant:!!t,index:e},function(t){var e=v(t),n=h(t),r=g(t),o=Object(f.a)(Array(81)).map((function(t,e){return e}));return{group:r,col:e,row:n,colMembers:o.filter((function(n,r){return r!==t&&v(r)===e})),rowMembers:o.filter((function(e,r){return r!==t&&h(r)===n})),groupMembers:o.filter((function(e,n){return n!==t&&g(n)===r}))}}(e))})),n=[],r=1;r<=9;r++)m(a,r,t)&&n.push(r);s(n)}),[]),Object(p.b)("div",{css:{boxSizing:"border-box",height:150,width:150,backgroundColor:"black",color:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1,display:"flex",flexWrap:"wrap"}},Object(f.a)(Array(9)).map((function(t,r){var i=e[a],u=r+1,c=l.includes(r+1);return Object(p.b)("div",{key:r,css:{boxSizing:"border-box",width:50,height:50,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderColor:"white",borderStyle:"solid",borderWidth:i===u?1:0},onClick:i===u?function(t){t.stopPropagation();var r=Object(f.a)(e);r[a]=void 0,n(r),o(!1)}:c?function(t){t.stopPropagation();var r=Object(f.a)(e);r[a]=u,n(r),o(!1)}:function(t){t.stopPropagation(),o(!1)}},c&&u)})))}function E(t){return Object(u.a)(Object(u.a)({},function(t){return t<=8?{borderTopWidth:0}:t>=27&&t<=35||t>=54&&t<=62?{borderTopWidth:2,borderTopColor:"black"}:{borderTopWidth:1,borderTopColor:"grey"}}(t)),function(t){var e=t%9;return 0===e?{borderLeftWidth:0}:3===e||6===e?{borderLeftWidth:2,borderLeftColor:"black"}:{borderLeftWidth:1,borderLeftColor:"grey"}}(t))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.9e4a9e9f.chunk.js.map